(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{635:function(t,e,r){t.exports=r.p+"assets/img/updateToken001.95974354.jpeg"},636:function(t,e,r){t.exports=r.p+"assets/img/updateToken002.df127277.png"},665:function(t,e,r){"use strict";r.r(e);var s=r(10),a=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("写在前面：Oauth2系列配套视频地址 https://t.hk.uy/bdr8")])]),t._v(" "),s("h2",{attrs:{id:"一-适用模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-适用模式"}},[t._v("#")]),t._v(" 一.适用模式")]),t._v(" "),s("p",[s("strong",[t._v("需要")]),t._v("refresh_token"),s("strong",[t._v("用于令牌更新，所以适用于授权码模式和密码模式。")]),t._v(" "),s("br")]),t._v(" "),s("h2",{attrs:{id:"二-流程图与时序图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二-流程图与时序图"}},[t._v("#")]),t._v(" 二.流程图与时序图")]),t._v(" "),s("p",[s("strong",[t._v("授权验证流程示意图")])]),t._v(" "),s("p",[s("img",{attrs:{src:r(635),alt:"clipboard_meitu_1.jpg"}})]),t._v(" "),s("p",[s("strong",[t._v("A-B")])]),t._v(" "),s("p",[s("strong",[t._v("（A）客户端向认证服务器进行身份认证，并要求一个刷新令牌。")])]),t._v(" "),s("p",[s("strong",[t._v("（B）认证服务器确认无误后，向客户端提供访问令牌。")])]),t._v(" "),s("p",[s("strong",[t._v("授权验证流程时序图")])]),t._v(" "),s("p",[s("img",{attrs:{src:r(636),alt:"image.png"}}),t._v(" "),s("br")]),t._v(" "),s("h2",{attrs:{id:"三-流程与-参数详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三-流程与-参数详解"}},[t._v("#")]),t._v(" 三.流程与 参数详解")]),t._v(" "),s("p",[s("strong",[t._v("A步骤中，客户端发出的HTTP请求，包含以下参数：")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("参数名称")])]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("描述")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("grant_type")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('表示授权类型，此处的值固定为"refresh_token"，必选项。')])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("refresh_token")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("表示早前收到的更新令牌，必选项。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("scope")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("表示申请的授权范围，不可以超出上一次申请的范围，如果省略该参数，则表示与上一次一致。")])])])]),t._v(" "),s("p",[s("strong",[t._v("举例")]),t._v("\nPOST /token HTTP/1.1       Host: server.example.com      Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW       Content-Type: application/x-www-form-urlencoded       grant_type=refresh_token&refresh_token=tGzv3JOkF0XG5Qx2TlKWIA\n"),s("br")]),t._v(" "),s("h2",{attrs:{id:"四-参数与返回结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四-参数与返回结果"}},[t._v("#")]),t._v(" 四.参数与返回结果")]),t._v(" "),s("p",[s("strong",[t._v("调用时access_token，refresh_token均未过期")])]),t._v(" "),s("p",[t._v("access_token会变, refresh_token根据设定的过期时间,没有失效则不变")]),t._v(" "),s("p",[s("strong",[t._v("调用时refresh_token过期")])]),t._v(" "),s("p",[t._v('{"error":"invalid_token","error_description":"Invalid refresh token (expired): 95844d87-f06e-4a4e-b76c-f16c5329e287"}')])])}),[],!1,null,null,null);e.default=a.exports}}]);