(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{617:function(t,e,s){t.exports=s.p+"assets/img/password001.468944b3.png"},618:function(t,e,s){t.exports=s.p+"assets/img/password002.422ec5b3.png"},619:function(t,e,s){t.exports=s.p+"assets/img/password003.68f8f028.png"},620:function(t,e,s){t.exports=s.p+"assets/img/password004.88fcf8f1.png"},660:function(t,e,s){"use strict";s.r(e);var a=s(10),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("写在前面：Oauth2系列配套视频地址 https://t.hk.uy/bdr8")])]),t._v(" "),a("h2",{attrs:{id:"一-概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-概念"}},[t._v("#")]),t._v(" 一.概念")]),t._v(" "),a("p",[a("strong",[t._v('密码模式（Resource Owner Password Credentials Grant）中，用户向客户端提供自己的用户名和密码。客户端使用这些信息，向"服务商提供商"索要授权。')]),t._v(" "),a("br")]),t._v(" "),a("h2",{attrs:{id:"二-适用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-适用场景"}},[t._v("#")]),t._v(" 二.适用场景")]),t._v(" "),a("p",[a("strong",[t._v("这种模式会直接将用户密码暴露给应用程序，因此应谨慎使用。一般说来，只有信任度极高的客户才应授权使用该模式，如官方移动应用、操作系统或高权限程序。")]),t._v(" "),a("br")]),t._v(" "),a("h2",{attrs:{id:"三-示意图与时序图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-示意图与时序图"}},[t._v("#")]),t._v(" 三.示意图与时序图")]),t._v(" "),a("p",[a("strong",[t._v("授权验证流程示意图")])]),t._v(" "),a("p",[a("img",{attrs:{src:s(617),alt:"clipboard.png"}})]),t._v(" "),a("p",[a("strong",[t._v("A-B-C")])]),t._v(" "),a("p",[a("strong",[t._v("（A）用户向客户端提供用户名和密码。")])]),t._v(" "),a("p",[a("strong",[t._v("（B）客户端将用户名和密码发给认证服务器，向后者请求令牌。")])]),t._v(" "),a("p",[a("strong",[t._v("（C）认证服务器确认无误后，向客户端提供访问令牌。")])]),t._v(" "),a("p",[a("strong",[t._v("授权验证流程时序图")])]),t._v(" "),a("p",[a("img",{attrs:{src:s(618),alt:"image.png"}}),t._v(" "),a("br")]),t._v(" "),a("h2",{attrs:{id:"四-流程与-参数详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-流程与-参数详解"}},[t._v("#")]),t._v(" 四.流程与 参数详解")]),t._v(" "),a("p",[a("strong",[t._v("B步骤中，客户端发出的HTTP请求，包含以下参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("参数名称")])]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("描述")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("grant_type")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v('表示授权类型，此处的值固定为"password"，必选项。')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("表示用户名，必选项。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("password")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("表示用户的密码，必选项。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("scope")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("可选。请求可能会有一个或多个scope值。授权服务器会把客户端请求的范围(scope)展示给用户看。")])])])]),t._v(" "),a("p",[a("strong",[t._v("C步骤中，认证服务器向客户端发送访问令牌")])]),t._v(" "),a("p",[t._v("HTTP/1.1 200 OK        Content-Type: application/json;charset=UTF-8")]),t._v(" "),a("p",[t._v("Cache-Control: no-store")]),t._v(" "),a("p",[t._v('Pragma: no-cache      {         "access_token":"2YotnFZFEjr1zCsicMWpAA",         "token_type":"example",         "expires_in":3600,         "refresh_token":"tGzv3JOkF0XG5Qx2TlKWIA",         "example_parameter":"example_value"}\n'),a("br")]),t._v(" "),a("h2",{attrs:{id:"五-实例演示解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-实例演示解析"}},[t._v("#")]),t._v(" 五.实例演示解析")]),t._v(" "),a("p",[a("strong",[t._v("1. 获得token")])]),t._v(" "),a("p",[t._v("http://localhost:8080/oauth/token?grant_type=password&username=lisi&password=123456")]),t._v(" "),a("p",[a("img",{attrs:{src:s(619),alt:"image.png"}})]),t._v(" "),a("p",[a("strong",[t._v("2. 拿着token访问资源")])]),t._v(" "),a("p",[a("a",{attrs:{href:"http://localhost:8080/oauth2/hi?access_token=71689e9e-e738-4e3d-87b9-943fc2d54478",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/oauth2/user-name?access_token=71689e9e-e738-4e3d-87b9-943fc2d54478"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:s(620),alt:"image.png"}})])])}),[],!1,null,null,null);e.default=r.exports}}]);